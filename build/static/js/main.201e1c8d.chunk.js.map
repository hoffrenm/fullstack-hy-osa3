{"version":3,"sources":["components/Filter.js","components/Person.js","components/Persons.js","components/PersonForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","filter","handleFilterChange","value","onChange","Person","person","handleRemove","name","number","onClick","id","Persons","persons","toLowerCase","includes","map","key","PersonForm","handleSubmit","handleNameChange","handleNumberChange","onSubmit","type","baseUrl","axios","get","then","response","data","newObject","post","put","delete","baseStyle","fontSize","textAlign","background","borderRadius","borderStyle","width","padding","marginBottom","color","borderColor","Notification","message","style","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","notification","setNotification","useEffect","personService","handleNotification","setTimeout","event","target","preventDefault","personExists","find","newPerson","window","confirm","updatedPerson","catch","error","status","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.201e1c8d.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ filter, handleFilterChange }) => {\n  return <p>Filter list by name <input value={filter} onChange={handleFilterChange}/></p>\n}\n\nexport default Filter\n","import React from 'react'\n\nconst Person = ({ person, handleRemove }) => {\n  return (\n    <p>\n      {person.name} {person.number}{' '}\n      <button onClick={() => handleRemove(person.id)}>Remove</button>\n    </p>\n  )\n}\n\nexport default Person\n","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ persons, filter, handleRemove }) => {\n  persons = persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n\n  return (\n    <>\n      {persons.map(person => (\n        <Person key={person.id} person={person} handleRemove={handleRemove} />\n      ))}\n    </>\n  )\n}\n\nexport default Persons\n","import React from 'react'\n\nconst PersonForm = ({\n  handleSubmit,\n  name,\n  number,\n  handleNameChange,\n  handleNumberChange\n}) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        Name <input value={name} onChange={handleNameChange} />\n        <br />\n        Number <input value={number} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">Submit</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm\n","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl).then(response => response.data)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject).then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  return axios\n    .put(`${baseUrl}/${id}`, newObject)\n    .then(response => response.data)\n}\n\nconst remove = (id) => {\n    return axios.delete(`${baseUrl}/${id}`).then(response => response.data)\n}\n\nexport default { getAll, create, update, remove }\n","import React from 'react'\n\nconst baseStyle = {\n  fontSize: 24,\n  textAlign: 'center',\n  background: 'lightgrey',\n  borderRadius: 10,\n  borderStyle: 'solid',\n  width: 600,\n  padding: 10,\n  marginBottom: 15,\n  color: 'red',\n  borderColor: 'red'\n}\n\nconst Notification = ({ message, type }) => {\n  if (message === null) {\n    return null\n  }\n\n  let style = { ...baseStyle }\n\n  if (type === 'success') {\n    style = { ...baseStyle, color: 'green', borderColor: 'green' }\n  }\n\n  return <div style={style}>{message}</div>\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [notification, setNotification] = useState({\n    message: null,\n    type: null\n  })\n\n  useEffect(() => {\n    personService.getAll().then(persons => {\n      setPersons(persons)\n    })\n  }, [])\n\n  const handleNotification = notification => {\n    setNotification(notification)\n\n    setTimeout(() => {\n      setNotification({ message: null, type: null })\n    }, 5000)\n  }\n\n  const handleNameChange = event => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = event => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = event => {\n    setFilter(event.target.value)\n  }\n\n  const removePerson = id => {\n    const person = persons.find(person => person.id === id)\n\n    if (window.confirm(`You are about to delete ${person.name}, proceed?`))\n      personService\n        .remove(id)\n        .then(() => {\n          handleNotification({\n            message: `${person.name} has been removed`,\n            type: 'success'\n          })\n          setPersons(persons.filter(person => person.id !== id))\n        })\n        .catch(() => {\n          handleNotification({\n            message: `${person.name} was already removed from server`,\n            type: 'error'\n          })\n          setPersons(persons.filter(person => person.id !== id))\n        })\n  }\n\n  const addPerson = event => {\n    event.preventDefault()\n\n    const personExists = persons.find(\n      person => person.name.toLowerCase() === newName.toLowerCase()\n    )\n\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (personExists) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, do you want to replace the number?`\n        )\n      ) {\n        personService\n          .update(personExists.id, newPerson)\n          .then(updatedPerson => {\n            handleNotification({\n              message: `${updatedPerson.name}'s number has been changed to ${updatedPerson.number}`,\n              type: 'success'\n            })\n            setPersons(\n              persons.map(person =>\n                person.id !== personExists.id ? person : updatedPerson\n              )\n            )\n          })\n          .catch(error => {\n            handleNotification({\n              message: error.response.data.error,\n              type: 'error'\n            })\n\n            if (error.response.status === 404) {\n              setPersons(\n                persons.filter(person => person.id !== personExists.id)\n              )\n            }\n          })\n      }\n    } else {\n      personService\n        .create(newPerson)\n        .then(person => {\n          handleNotification({\n            message: `${person.name} has been added to phonebook`,\n            type: 'success'\n          })\n          setPersons(persons.concat(person))\n        })\n        .catch(error =>\n          handleNotification({\n            message: error.response.data.error,\n            type: 'error'\n          })\n        )\n    }\n\n    setNewName('')\n    setNewNumber('')\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={notification.message} type={notification.type} />\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n      <h2>Add a new</h2>\n      <PersonForm\n        handleSubmit={addPerson}\n        name={newName}\n        number={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons persons={persons} filter={filter} handleRemove={removePerson} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}